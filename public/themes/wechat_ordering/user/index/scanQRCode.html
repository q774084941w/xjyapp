<!DOCTYPE html>
<html>
  <head>
    <title>扫一扫</title>
    <!-- WEUI js stare-->
    <include file="public@head"/>
    <script type="text/javascript">
      //weixin  js-sdk
      SetShareConfig('{:$signPackage.appId}',{:$signPackage.timestamp},'{:$signPackage.nonceStr}','{:$signPackage.signature}');

      wx.ready(function(){
        wx.checkJsApi({
            jsApiList: ['scanQRCode'], // 需要检测的JS接口列表，所有JS接口列表见附录2,
            success: function(res) {
              console.log('true');
                // 以键值对的形式返回，可用的api值true，不可用为false
                // 如：{"checkResult":{"chooseImage":true},"errMsg":"checkJsApi:ok"}
                // 
              wx.scanQRCode({
                needResult: 0, // 默认为0，扫描结果由微信处理，1则直接返回扫描结果，
                scanType: ["qrCode","barCode"], // 可以指定扫二维码还是一维码，默认二者都有
                success: function (res) {
                  console.log(res);
                  var result = res.resultStr; // 当needResult 为 1 时，扫码返回的结果
                }
              }); 
            }
        });
      });

    </script>

  </head>
  <body class="grade-a">

  </body>
  </html>